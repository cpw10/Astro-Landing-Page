---
const { title, faq = [] } = Astro.props
---

<section class="bs-container bs-mt-lg grid" id="faq">
  {title && <h2 class="bs-h2 text-center md:text-left" set:html={title} />}

  <div class="grid gap-2 bs-mt-sm">
    {faq?.length > 0 && faq.map(item => (
      <details
        name="faq"
        class="group bg-bs-surface-2 hover:bg-bs-surface-3 open:bg-bs-surface-3 transition-colors w-full shadow-md rounded-lg bs-h3">
        <summary class="flex gap-3 justify-between items-center p-6 py-5">
          <span class="select-none" set:html={item.question} />
          <span>
            <svg class="opacity-60 h-4 w-4 transition -rotate-90 group-open:rotate-90 ease-bs-bounce duration-1000" width="16" height="25" viewBox="0 0 16 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.4483 0.871166C14.6476 1.07002 14.8057 1.30621 14.9135 1.56624C15.0214 1.82626 15.0769 2.105 15.0769 2.38651C15.0769 2.66802 15.0214 2.94676 14.9135 3.20678C14.8057 3.4668 14.6476 3.703 14.4483 3.90185L6.10855 12.2416L14.4483 20.5814C14.6473 20.7804 14.8052 21.0166 14.9129 21.2766C15.0206 21.5366 15.076 21.8153 15.076 22.0967C15.076 22.3782 15.0206 22.6568 14.9129 22.9168C14.8052 23.1768 14.6473 23.4131 14.4483 23.6121C14.2493 23.8111 14.0131 23.9689 13.7531 24.0766C13.4931 24.1843 13.2144 24.2397 12.933 24.2397C12.6515 24.2397 12.3729 24.1843 12.1129 24.0766C11.8529 23.9689 11.6166 23.8111 11.4176 23.6121L1.55177 13.7462C1.35251 13.5474 1.19443 13.3112 1.08657 13.0511C0.978706 12.7911 0.923186 12.5124 0.923186 12.2309C0.923186 11.9494 0.978706 11.6706 1.08657 11.4106C1.19443 11.1506 1.35251 10.9144 1.55177 10.7155L11.4176 0.849671C12.2344 0.03289 13.61 0.0328905 14.4483 0.871166Z" fill="currentColor"></path></svg>
          </span>
        </summary>
        <div class="anim-wrapper max-w-none">
          <div set:html={item.answer} class="p-6" />
        </div>
      </details>
    ))}
  </div>
</section>

<style>
summary::-webkit-details-marker {
  display: none
}

details {
  @media (prefers-reduced-motion: no-preference) {
    interpolate-size: allow-keywords;
  }

  &::details-content {
    block-size: 0;
    opacity: 0;
    overflow-y: clip;
    transition: content-visibility 1s allow-discrete, opacity 1s, block-size 1s var(--ease-bs-bounce);
  }

  &[open]::details-content {
    block-size: auto;
    opacity: 1;
  }
}
</style>
