---
const { title, case_studies = [] } = Astro.props
---

<section class="bs-container bs-mt-lg" id="case-studies">
  {title && <h2 class="bs-h2 text-center md:text-left" data-editable="text" data-prop="title">{title}</h2>}

  <div data-editable="array" data-prop="case_studies">
    {/* Case Study 1 */}
    {case_studies?.[0] && (
      <div class="bs-mt-md" data-editable="array-item">
        <div class="group @container">
          <article
            class:list={[
              "relative isolate flex h-full w-full gap-6 overflow-hidden rounded-xl pt-[20rem] @md:pt-[28rem] @xl:justify-end @4xl:pt-0",
              case_studies[0].bg
            ]}>
            <img
              src={case_studies[0].image}
              alt={case_studies[0].image_alt}
              class="drop-shadow-[0_100px_100px_rgba(0,0,0,0.5)] absolute top-[4cqb] left-8 mx-auto w-[90cqi] rounded-xl @4xl:w-[60cqi] group-hover:scale-105 transition-transform duration-3000 ease-bs-spring transform-gpu"
              loading="lazy"
              height="1024"
              width="768"
            />
            <div class="z-10 flex h-full w-full flex-col gap-6 bg-bs-surface-0/50 backdrop-blur-3xl p-6 @4xl:w-1/2 @4xl:p-20">
              <header class="flex flex-col gap-3">
                <div
                  class:list={[
                    "text-xs uppercase tracking-widest font-semibold text-transparent bg-clip-text bg-gradient-to-r",
                    case_studies[0].bg
                  ]}
                  set:html={case_studies[0].sector}
                />
                <h2 class="bs-h2" set:html={case_studies[0].title} />
              </header>
              <div class="bs-body-text flex-grow text-balance" set:html={case_studies[0].content} />
              <a href={case_studies[0].case_study_link} class="bs-btn inline-block self-start @4xl:mt-12">
                {case_studies[0].cta}
              </a>
            </div>
          </article>
        </div>
      </div>
    )}

    {/* Case studies 2 & 3 */}
    <div class="mt-8 grid lg:grid-cols-2 gap-8">
      {case_studies?.[1] && (
        <div class="group @container" data-editable="array-item">
          <article
            class:list={[
              "relative isolate flex h-full w-full gap-6 overflow-hidden rounded-xl pt-[20rem] @md:pt-[28rem] @xl:justify-end @4xl:pt-0",
              case_studies[1].bg
            ]}>
            <img
              src={case_studies[1].image}
              alt={case_studies[1].image_alt}
              class="drop-shadow-[0_100px_100px_rgba(0,0,0,0.5)] absolute top-[4cqb] left-8 mx-auto w-[90cqi] rounded-xl @4xl:w-[60cqi] group-hover:scale-105 transition-transform duration-3000 ease-bs-spring transform-gpu"
              loading="lazy"
              height="1024"
              width="768"
            />
            <div class="z-10 flex h-full w-full flex-col gap-6 bg-bs-surface-0/50 backdrop-blur-3xl p-6 @4xl:w-1/2 @4xl:p-20">
              <header class="flex flex-col gap-3">
                <div
                  class:list={[
                    "text-xs uppercase tracking-widest font-semibold text-transparent bg-clip-text bg-gradient-to-r",
                    case_studies[1].bg
                  ]}
                  set:html={case_studies[1].sector}
                />
                <h2 class="bs-h2" set:html={case_studies[1].title} />
              </header>
              <div class="bs-body-text flex-grow text-balance" set:html={case_studies[1].content} />
              <a href={case_studies[1].case_study_link} class="bs-btn inline-block self-start @4xl:mt-12">
                {case_studies[1].cta}
              </a>
            </div>
          </article>
        </div>
      )}

      {case_studies?.[2] && (
        <div class="group @container" data-editable="array-item">
          <article
            class:list={[
              "relative isolate flex h-full w-full gap-6 overflow-hidden rounded-xl pt-[20rem] @md:pt-[28rem] @xl:justify-end @4xl:pt-0",
              case_studies[2].bg
            ]}>
            <img
              src={case_studies[2].image}
              alt={case_studies[2].image_alt}
              class="drop-shadow-[0_100px_100px_rgba(0,0,0,0.5)] absolute top-[4cqb] left-8 mx-auto w-[90cqi] rounded-xl @4xl:w-[60cqi] group-hover:scale-105 transition-transform duration-3000 ease-bs-spring transform-gpu"
              loading="lazy"
              height="1024"
              width="768"
            />
            <div class="z-10 flex h-full w-full flex-col gap-6 bg-bs-surface-0/50 backdrop-blur-3xl p-6 @4xl:w-1/2 @4xl:p-20">
              <header class="flex flex-col gap-3">
                <div
                  class:list={[
                    "text-xs uppercase tracking-widest font-semibold text-transparent bg-clip-text bg-gradient-to-r",
                    case_studies[2].bg
                  ]}
                  set:html={case_studies[2].sector}
                />
                <h2 class="bs-h2" set:html={case_studies[2].title} />
              </header>
              <div class="bs-body-text flex-grow text-balance" set:html={case_studies[2].content} />
              <a href={case_studies[2].case_study_link} class="bs-btn inline-block self-start @4xl:mt-12">
                {case_studies[2].cta}
              </a>
            </div>
          </article>
        </div>
      )}
    </div>
  </div>
</section>
